{"title":"kaggle 泰坦尼克号生存预测","uid":"bc774fdd11fa6d051ebe88dab8157d32","slug":"kaggle 泰坦尼克号生存预测","date":"2024-01-15T12:17:05.000Z","updated":"2024-01-15T12:29:49.918Z","comments":true,"path":"api/articles/kaggle 泰坦尼克号生存预测.json","keywords":null,"cover":"https://siyuan-lisx.oss-cn-shenzhen.aliyuncs.com/img/202401112235409.jpeg","content":"<h2 id=\"目标\"><a href=\"#目标\" class=\"headerlink\" title=\"目标\"></a>目标</h2><p>使用泰坦尼克号乘客数据（名字，年龄，票价等）预测谁将存活或者死去。</p>\n<h2 id=\"数据\"><a href=\"#数据\" class=\"headerlink\" title=\"数据\"></a>数据</h2><p>在数据中有三份文件：(1) <strong>train.csv</strong>, (2) <strong>test.csv</strong>, and (3) <strong>gender_submission.csv</strong>.</p>\n<h3 id=\"1-train-csv\"><a href=\"#1-train-csv\" class=\"headerlink\" title=\"(1) train.csv\"></a>(1) train.csv</h3><p><strong>train.csv</strong> 包含机上乘客子集的详细信息（确切地说是891名乘客——每个乘客在表中都有不同的一行。</p>\n<p>第二列中的值（ <strong>“幸存”</strong> ）可用于确定每个乘客是否幸存：</p>\n<ul>\n<li>如果是“1”，乘客就活了下来。</li>\n<li>如果是“0”，则乘客死亡。</li>\n</ul>\n<p>例如，<strong>train.csv</strong> 中列出的第一位乘客是 Owen Harris Braund 先生。他在泰坦尼克号上去世时22岁。</p>\n<h3 id=\"2-test-csv\"><a href=\"#2-test-csv\" class=\"headerlink\" title=\"(2) test.csv\"></a>(2) test.csv</h3><p>使用您在 <strong>train.csv</strong> 中训练的模型，预测船上其他418名乘客（在 <strong>test.csv</strong> 中）是否幸存。</p>\n<h3 id=\"3-gender-submission-csv\"><a href=\"#3-gender-submission-csv\" class=\"headerlink\" title=\"(3) gender_submission.csv\"></a>(3) gender_submission.csv</h3><p>提供了<strong>gender_submition.csv</strong>文件作为示例，该文件显示了您应该如何构建预测。据预测，所有女性乘客幸存，所有男性乘客死亡。你关于生存的假设可能会有所不同，这将导致不同的提交文件。但是，就像这个文件一样，您提交的文件应该有：</p>\n<ul>\n<li><strong>PassengerId&quot;；</strong> 列，其中包含<strong>test.csv</strong>中每个乘客的ID。</li>\n<li><strong>幸存的&quot;；</strong> 列（您将创建！），其中“1”表示您认为乘客幸存的行，“0”表示您预测乘客死亡的行。</li>\n</ul>\n<h2 id=\"过程\"><a href=\"#过程\" class=\"headerlink\" title=\"过程\"></a>过程</h2><h3 id=\"代码\"><a href=\"#代码\" class=\"headerlink\" title=\"代码\"></a>代码</h3><ul>\n<li>导入所需要的库和训练集：</li>\n</ul>\n<div class=\"language-python\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">python</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">import</span><span style=\"color: #BABED8\"> pandas </span><span style=\"color: #89DDFF; font-style: italic\">as</span><span style=\"color: #BABED8\"> pd</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">train_data </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> pd</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">read_csv</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">data/titanic/train.csv</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">train_data</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">head</span><span style=\"color: #89DDFF\">()</span></span></code></pre></div><p>输出：</p>\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>PassengerId</th>\n      <th>Survived</th>\n      <th>Pclass</th>\n      <th>Name</th>\n      <th>Sex</th>\n      <th>Age</th>\n      <th>SibSp</th>\n      <th>Parch</th>\n      <th>Ticket</th>\n      <th>Fare</th>\n      <th>Cabin</th>\n      <th>Embarked</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>1</td>\n      <td>0</td>\n      <td>3</td>\n      <td>Braund, Mr. Owen Harris</td>\n      <td>male</td>\n      <td>22.0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>A/5 21171</td>\n      <td>7.2500</td>\n      <td>NaN</td>\n      <td>S</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2</td>\n      <td>1</td>\n      <td>1</td>\n      <td>Cumings, Mrs. John Bradley (Florence Briggs Th...</td>\n      <td>female</td>\n      <td>38.0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>PC 17599</td>\n      <td>71.2833</td>\n      <td>C85</td>\n      <td>C</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>3</td>\n      <td>1</td>\n      <td>3</td>\n      <td>Heikkinen, Miss. Laina</td>\n      <td>female</td>\n      <td>26.0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>STON/O2. 3101282</td>\n      <td>7.9250</td>\n      <td>NaN</td>\n      <td>S</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>4</td>\n      <td>1</td>\n      <td>1</td>\n      <td>Futrelle, Mrs. Jacques Heath (Lily May Peel)</td>\n      <td>female</td>\n      <td>35.0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>113803</td>\n      <td>53.1000</td>\n      <td>C123</td>\n      <td>S</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>5</td>\n      <td>0</td>\n      <td>3</td>\n      <td>Allen, Mr. William Henry</td>\n      <td>male</td>\n      <td>35.0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>373450</td>\n      <td>8.0500</td>\n      <td>NaN</td>\n      <td>S</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n\n<ul>\n<li>导入测试集：</li>\n</ul>\n<div class=\"language-python\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">python</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #BABED8\">train_data </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> pd</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">read_csv</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">data/titanic/train.csv</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">train_data</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">head</span><span style=\"color: #89DDFF\">()</span></span></code></pre></div><p>输出：</p>\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>PassengerId</th>\n      <th>Survived</th>\n      <th>Pclass</th>\n      <th>Name</th>\n      <th>Sex</th>\n      <th>Age</th>\n      <th>SibSp</th>\n      <th>Parch</th>\n      <th>Ticket</th>\n      <th>Fare</th>\n      <th>Cabin</th>\n      <th>Embarked</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>1</td>\n      <td>0</td>\n      <td>3</td>\n      <td>Braund, Mr. Owen Harris</td>\n      <td>male</td>\n      <td>22.0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>A/5 21171</td>\n      <td>7.2500</td>\n      <td>NaN</td>\n      <td>S</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2</td>\n      <td>1</td>\n      <td>1</td>\n      <td>Cumings, Mrs. John Bradley (Florence Briggs Th...</td>\n      <td>female</td>\n      <td>38.0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>PC 17599</td>\n      <td>71.2833</td>\n      <td>C85</td>\n      <td>C</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>3</td>\n      <td>1</td>\n      <td>3</td>\n      <td>Heikkinen, Miss. Laina</td>\n      <td>female</td>\n      <td>26.0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>STON/O2. 3101282</td>\n      <td>7.9250</td>\n      <td>NaN</td>\n      <td>S</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>4</td>\n      <td>1</td>\n      <td>1</td>\n      <td>Futrelle, Mrs. Jacques Heath (Lily May Peel)</td>\n      <td>female</td>\n      <td>35.0</td>\n      <td>1</td>\n      <td>0</td>\n      <td>113803</td>\n      <td>53.1000</td>\n      <td>C123</td>\n      <td>S</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>5</td>\n      <td>0</td>\n      <td>3</td>\n      <td>Allen, Mr. William Henry</td>\n      <td>male</td>\n      <td>35.0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>373450</td>\n      <td>8.0500</td>\n      <td>NaN</td>\n      <td>S</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n\n<ul>\n<li>男性存活率：</li>\n</ul>\n<div class=\"language-python\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">python</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #BABED8\">men </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> train_data</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #F07178\">loc</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F07178\">train_data</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #F07178\">Sex </span><span style=\"color: #89DDFF\">==</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">male</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">][</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Survived</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">rate_men </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">sum</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">men</span><span style=\"color: #89DDFF\">)/</span><span style=\"color: #82AAFF\">len</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">men</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #82AAFF\">print</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #F78C6C\">% o</span><span style=\"color: #C3E88D\">f men who survived:</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #82AAFF\"> rate_men</span><span style=\"color: #89DDFF\">)</span></span></code></pre></div><p>输出：</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>% of men who survived: 0.18890814558058924</p></blockquote>\n<ul>\n<li>在有兄弟姐妹的男性中，男性的存活率：</li>\n</ul>\n<div class=\"language-python\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">python</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #BABED8\">men_sibsb_survived </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> train_data</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #F07178\">loc</span><span style=\"color: #89DDFF\">[(</span><span style=\"color: #F07178\">train_data</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">Sex</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">]</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">==</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">male</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&amp;</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F07178\">train_data</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">SibSp</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">]</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">==</span><span style=\"color: #F07178\"> </span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">),</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">Survived</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">men </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> train_data</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #F07178\">loc</span><span style=\"color: #89DDFF\">[(</span><span style=\"color: #F07178\">train_data</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #F07178\">Sex </span><span style=\"color: #89DDFF\">==</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">male</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&amp;</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F07178\">train_data</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">SibSp</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">]</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">==</span><span style=\"color: #F07178\"> </span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">)][</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Survived</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">men_sibsb </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">sum</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">men_sibsb_survived</span><span style=\"color: #89DDFF\">)/</span><span style=\"color: #82AAFF\">len</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">men</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #82AAFF\">print</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">有兄弟姐妹的男性中，男性存活率</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #82AAFF\"> men_sibsb</span><span style=\"color: #89DDFF\">)</span></span></code></pre></div><p>输出：</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>有兄弟姐妹的男性中，男性存活率： 0.3106796116504854</p></blockquote>\n<ul>\n<li>在有父母和孩子的男性中，男性存活率：</li>\n</ul>\n<div class=\"language-python\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">python</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #BABED8\">men_parch_survived </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> train_data</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #F07178\">loc</span><span style=\"color: #89DDFF\">[(</span><span style=\"color: #F07178\">train_data</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">Sex</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">]</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">==</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">male</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&amp;</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F07178\">train_data</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">Parch</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">]</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">==</span><span style=\"color: #F07178\"> </span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">),</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">Survived</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">men </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> train_data</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #F07178\">loc</span><span style=\"color: #89DDFF\">[(</span><span style=\"color: #F07178\">train_data</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #F07178\">Sex </span><span style=\"color: #89DDFF\">==</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">male</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&amp;</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F07178\">train_data</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">Parch</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">]</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">==</span><span style=\"color: #F07178\"> </span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">)][</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Survived</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">men_parch </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">sum</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">men_sibsb_survived</span><span style=\"color: #89DDFF\">)/</span><span style=\"color: #82AAFF\">len</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">men</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #82AAFF\">print</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">有父母孩子的男性中，男性存活率：</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #82AAFF\"> men_parch</span><span style=\"color: #89DDFF\">)</span></span></code></pre></div><p>输出：</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>有父母孩子的男性中，男性存活率： 0.5517241379310345</p></blockquote>\n<ul>\n<li>女性存活率：</li>\n</ul>\n<div class=\"language-python\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">python</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #BABED8\">women </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> train_data</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #F07178\">loc</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #F07178\">train_data</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #F07178\">Sex </span><span style=\"color: #89DDFF\">==</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">female</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">][</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Survived</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">rate_women </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">sum</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">women</span><span style=\"color: #89DDFF\">)/</span><span style=\"color: #82AAFF\">len</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">women</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #82AAFF\">print</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #F78C6C\">% o</span><span style=\"color: #C3E88D\">f women who survived:</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #82AAFF\"> rate_women</span><span style=\"color: #89DDFF\">)</span></span></code></pre></div><p>输出：</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>% of women who survived: 0.7420382165605095</p></blockquote>\n<ul>\n<li>使用随机森林模型对结果进行预测，选用的特征是船票等级，性别，是否有配偶在船上，是否有父母在船上。</li>\n</ul>\n<div class=\"language-python\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">python</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">from</span><span style=\"color: #BABED8\"> sklearn</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">ensemble </span><span style=\"color: #89DDFF; font-style: italic\">import</span><span style=\"color: #BABED8\"> RandomForestClassifier</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #BABED8\">y </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> train_data</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Survived</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">]</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #BABED8\">features </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">[</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Pclass</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Sex</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">SibSp</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Parch</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">X </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> pd</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">get_dummies</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">train_data</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #82AAFF\">features</span><span style=\"color: #89DDFF\">])</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">X_test </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> pd</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">get_dummies</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">test_data</span><span style=\"color: #89DDFF\">[</span><span style=\"color: #82AAFF\">features</span><span style=\"color: #89DDFF\">])</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #BABED8\">model </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">RandomForestClassifier</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #BABED8; font-style: italic\">n_estimators</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">100</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #BABED8; font-style: italic\">max_depth</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">5</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #BABED8; font-style: italic\">random_state</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">1</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">model</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">fit</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">X</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #82AAFF\"> y</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">predictions </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> model</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">predict</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">X_test</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #BABED8\">output </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> pd</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">DataFrame</span><span style=\"color: #89DDFF\">(&#123;</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">PassengerId</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #82AAFF\"> test_data</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #F07178\">PassengerId</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">Survived</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #82AAFF\"> predictions</span><span style=\"color: #89DDFF\">&#125;)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">output</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">to_csv</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">submission.csv</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #BABED8; font-style: italic\">index</span><span style=\"color: #89DDFF\">=False)</span></span>\n<span class=\"line\"><span style=\"color: #82AAFF\">print</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Your submission was successfully saved!</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">)</span></span></code></pre></div><ul>\n<li>准确率计算：</li>\n</ul>\n<div class=\"language-python\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">python</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">from</span><span style=\"color: #BABED8\"> sklearn</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #BABED8\">metrics </span><span style=\"color: #89DDFF; font-style: italic\">import</span><span style=\"color: #BABED8\"> accuracy_score</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #BABED8\">true_data </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> pd</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #82AAFF\">read_csv</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #C3E88D\">data/titanic/gender_submission.csv</span><span style=\"color: #89DDFF\">&#39;</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">y_true </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> true_data</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #F07178\">Survived</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">y_pred </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> predictions</span></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\"># 计算准确率</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">accuracy </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">accuracy_score</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">y_true</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #82AAFF\"> y_pred</span><span style=\"color: #89DDFF\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #82AAFF\">print</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #C792EA\">f</span><span style=\"color: #C3E88D\">&#39;Accuracy: </span><span style=\"color: #F78C6C\">&#123;</span><span style=\"color: #82AAFF\">accuracy</span><span style=\"color: #F78C6C\">&#125;</span><span style=\"color: #C3E88D\">&#39;</span><span style=\"color: #89DDFF\">)</span></span></code></pre></div><p>输出：</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><code>Accuracy: 0.9712918660287081</code></p></blockquote>\n<h3 id=\"模型\"><a href=\"#模型\" class=\"headerlink\" title=\"模型\"></a>模型</h3><h4 id=\"随机森林模型\"><a href=\"#随机森林模型\" class=\"headerlink\" title=\"随机森林模型\"></a>随机森林模型</h4><p>随机森林模型在分类和回归任务上都有优秀的表现。但是如果要理解随机森林模型的具体原理，这对初学者来说颇具难度，这里面设计到了大量的数学运算，具体步骤参考最后的引文资料，本文尽量以最简单的概念来让你对其有一定的了解。</p>\n<p>假设你要判断一些戴着面具的孩子的性别，你可以对他们提出问题，根据他们的回答进行判断，你能提出问题只包括是否喜欢运动，是否喜欢电脑游戏，是否喜欢粉色，是否喜欢甜食等等。</p>\n<p>为了使你需要提问的次数最少，判断更准确，那么你需要准备好合适的问题和问题的次序。</p>\n<p>在正式的测试前，允许你先刷一会的题。这就对应了模型中训练的过程。</p>\n<p>首先，你找来100个人，其中有50个男生和50个女生站在一起，你对他们喊道：喜欢甜食的站在左边，不喜欢的人站在右边。</p>\n<p>这时候70个人站在了左边，30个站在了右边。但是别高兴太早，你又发现70个中男生占一半，女生占一半，另外30个也是一样。</p>\n<p><img src=\"https://siyuan-lisx.oss-cn-shenzhen.aliyuncs.com/img/20240111214828.png\"></p>\n<p>那么看来，对于在吃甜食这一事件上，性别不同不会有什么特殊偏好，所以在分辨男女这件事上，是否喜欢甜食，不是一个<strong>好问题</strong>。</p>\n<p>所以你让男女生又站了回来，换把问题换成了是否喜欢打电脑游戏。</p>\n<p>这时候60个人站在了左边，40个站在了右边，但是60个人之中有40个是男生，20个是女生，那么40个中30个是女生，10个是男生。</p>\n<p><img src=\"https://siyuan-lisx.oss-cn-shenzhen.aliyuncs.com/img/202401112150064.png\"></p>\n<p>很明显，在左边里面，男生的比例明显增加，在右边里面，女生比例明显增加。</p>\n<p>所以在是否喜欢玩电脑游戏这个问题，有效区分这个人是男生和女生，所以这是一个好问题。</p>\n<p>当然，你希望准确率可以更高一些，那么你可以对左边右边继续问问题，左右边可以是相同的问题，也可以是不同问题。</p>\n<p>知道最后不断划分，你就可以通过一系列问题判断出这个人大概率是男生还是女生，这时候这系列问题被称为<strong>树</strong>。</p>\n<p>但是不要忘了，这是随机森林模型，一棵树怎么可以称之为森林呢。但是你可以重复上述步骤，从人群中选择不同样本集合，选择不同问题训练出不同的树。</p>\n<p>不同树可能对同一个样本给出不同答案，这时候我们应该相信哪棵树的答案?</p>\n<p>投票，哪个答案给出的多，那我们就信哪个答案。</p>\n<p><img src=\"https://siyuan-lisx.oss-cn-shenzhen.aliyuncs.com/img/20240111212014.png\" title=\"Kaggle官方原理图\"></p>\n<p>那再实际的随机森林模型中，对于问题的选择，通常采用信息增益、增益率或者基尼指数对所选参量进行判断，在选择一个参量后，群体分支几个部分，每个部分中某一类数量占比特别高，其它类别总占比小，我们就称这个参量的信息增益大，可以看看上面我给你举的例子，不同问题代表不同参量，好的参量最后造成了左右队列中男女比例明显的变化。</p>\n<p>同时，为了防止过拟合，还需要对模型进行剪支处理。这些概念具体请看我后面给你的参考文献。</p>\n<p>以上，就是我对随机森林模型粗浅的了解，欢迎各位的指正。</p>\n<h2 id=\"参考文献\"><a href=\"#参考文献\" class=\"headerlink\" title=\"参考文献\"></a>参考文献</h2><ol>\n<li><a href=\"https://www.kaggle.com/competitions/titanic\">Titanic - Machine Learning from Disaster | Kaggle</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/471494060\">随机森林详解（从决策树理解随机森林） - 知乎 (zhihu.com)</a></li>\n<li><a href=\"https://github.com/datawhalechina/pumpkin-book\">datawhalechina&#x2F;pumpkin-book: 《机器学习》（西瓜书）公式详解 (github.com)</a></li>\n<li><a href=\"https://product.dangdang.com/29579286.html\">《机器学习公式详解第2版 周志华西瓜书《机器学习》伴侣书南瓜书新版上市！了解人工智能ChatGpt底层数学逻辑！》(谢文睿)【简介_书评_在线阅读】 - 当当图书 (dangdang.com)</a></li>\n</ol>\n","text":"目标使用泰坦尼克号乘客数据（名字，年龄，票价等）预测谁将存活或者死去。 数据在数据中有三份文件：(1) train.csv, (2) test.csv, and...","permalink":"/post/kaggle 泰坦尼克号生存预测","photos":[],"count_time":{"symbolsCount":"7k","symbolsTime":"6 mins."},"categories":[],"tags":[{"name":"代码","slug":"代码","count":1,"path":"api/tags/代码.json"},{"name":"机器学习","slug":"机器学习","count":1,"path":"api/tags/机器学习.json"},{"name":"kaggle","slug":"kaggle","count":1,"path":"api/tags/kaggle.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%9B%AE%E6%A0%87\"><span class=\"toc-text\">目标</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE\"><span class=\"toc-text\">数据</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-train-csv\"><span class=\"toc-text\">(1) train.csv</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-test-csv\"><span class=\"toc-text\">(2) test.csv</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-gender-submission-csv\"><span class=\"toc-text\">(3) gender_submission.csv</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%BF%87%E7%A8%8B\"><span class=\"toc-text\">过程</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BB%A3%E7%A0%81\"><span class=\"toc-text\">代码</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%A8%A1%E5%9E%8B\"><span class=\"toc-text\">模型</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E9%9A%8F%E6%9C%BA%E6%A3%AE%E6%9E%97%E6%A8%A1%E5%9E%8B\"><span class=\"toc-text\">随机森林模型</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE\"><span class=\"toc-text\">参考文献</span></a></li></ol>","author":{"name":"wiselisx","slug":"blog-author","avatar":"https://siyuan-lisx.oss-cn-shenzhen.aliyuncs.com/img/202401112211814.jpg","link":"/","description":"一个无聊的人没事时候的碎碎念","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{},"next_post":{}}